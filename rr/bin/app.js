(()=>{var e,t,n,r,i,o,s,l,a,c={486:(e,t,n)=>{var r=n(865),i=n(944);e.exports=function(e){var t=!1;function n(){t=!0,document.getElementsByTagName("footer")[0].className="pt-3 mt-4 text-muted border-top",i.getIdenfityLine()}function o(){i.submitGuess()}return{oninit:function(e){document.body.className="d-flex flex-column h-100",document.getElementsByTagName("footer")[0].className="text-muted border-top container mt-auto"},instructions:function(){return r("header",{class:"px-4 py-5 text-center flex-shrink-0"},r("h1",{class:"display-4 fw-bold mb-5"},"You're a Detective"),r("div",{class:"col-lg-4 mx-auto"},r("p",{class:"lead mb4"},"Your job is to identify the photo of the criminal, from a set of photograps of suspects, using a sketch drawn from a witnesses's description."),r("p",null,r("button",{class:"btn btn-primary my-2",onclick:n},"Continue"))))},line:function(){var e=i.identify;return r("[",null,r("header",{class:"px-4 py-5 text-center flex-shrink-0"},r("h1",{class:"display-4 fw-bold"},"Identify the Suspect")),r("div",{id:"carouselExampleCaptions",class:"carousel slide container","data-bs-item":"false"},r("div",{class:"row gy-4 gx-3"},r("div",{class:"col-6"},r("img",{src:e.sketch,style:"width: 500px"})),r("div",{class:"col-6"},r("div",{class:"carousel-inner"},e.criminal_line.map((function(e,t){return r("div",{class:"carousel-item"+(0==t?" active":"")},r("img",{src:e.url,style:"width: 500px"}))})))),r("div",null,r("div",{class:"row"},r("div",{class:"text-center scrolling-wrapper col-6 offset-3"},e.criminal_line.map((function(e,t){return r("a",{href:"",role:"button","data-bs-target":"#carouselExampleCaptions","data-bs-slide-to":t,class:0==t?"active":"","aria-label":"Slide "+(t+1).toString()},r("img",{src:e.url,style:"width: 200px",alt:"...",onclick:function(){!function(e){i.guess=e}(e)}}))})))),r("div",{class:"row my-4"},r("div",{class:"col-2 mx-auto text-center"},r("button",{id:"select-btn",class:"btn btn-primary",onclick:o},"Select")))))))},view:function(){return t&&i.identify?this.line():this.instructions()}}}},494:(e,t,n)=>{var r=n(865);function i(){r.route.set("/")}n(944),e.exports=function(e){return{oninit:function(e){document.body.className="h-100"},view:function(){return r("[",null,r("header",{class:"px-4 py-4 text-center"},r("h1",{class:"display-4 fw-bold mb-5"},"Oops!")),r("main",{class:"container"},r("div",{class:"row"},r("div",{class:"col-6 mx-auto"},r("img",{src:"img/500.jpg",class:"align-self-center",style:"width: 600px"}))),r("div",{class:"row"},r("div",{class:"col-6 mx-auto text-center"},r("p",{class:"lead pt-5"},"Something is broken. Please try again later."))),r("div",{class:"row my-4"},r("div",{class:"col-2 mx-auto"},r("button",{onclick:i,class:"btn btn-primary"},"Main Menu")))))}}}},749:(e,t,n)=>{var r=n(865),i=n(944),o={oninit:function(e){i.reset(),document.body.className="h-100",document.getElementsByTagName("footer")[0].className="pt-3 mt-4 text-muted border-top container"},view:function(){return r("[",null,r("header",{class:"px-4 py-5 text-center"},r("img",{class:"d-block mx-auto mb-4",src:"img/logo.png",alt:"Logo",height:"100"}),r("h1",{class:"display-5 fw-bold"},"Retrato Robot"),r("div",{class:"col-lg-6 mx-auto"},r("p",{class:"lead mb-4"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus nisl nisi, ultrices vel eleifend eu, laoreet ac nisi. Proin luctus lacus est, eu lobortis mauris gravida in. Donec faucibus nisi vel tellus malesuada, ut semper dui mattis."))),r("div",{class:"container py-4 border"},r("div",{class:"row align-items-md-stretch text-center"},r("div",{class:"col"},r("h2",{class:"fw-light mb-5"},"Play as"))),r("div",{class:"row align-items-md-stretch"},r("div",{class:"col-md-6"},r("div",{class:"h-100 p-5 text-white bg-dark rounded-3 position-relative"},r("h2",null,"Witness ",r("i",{class:"bi-eye"})),r("p",null,"Identify the correct suspect using the sketches drawn from a witness description."),r("a",{class:"btn btn-outline-light",href:"#!/witness"},"Play as a witness"))),r("div",{class:"col-md-6"},r("div",{class:"h-100 p-5 bg-light border rounded-3"},r("h2",null,"Detective ",r("i",{class:"bi bi-search"})),r("p",null,"Describe the suspect to our AI artist, and it will draw a sketch that our detectives will then use to identify and capture that person."),r("a",{class:"btn btn-outline-secondary",href:"#!/detective"},"Play as a detective"))))))}};e.exports=o},944:(e,t,n)=>{var r=n(865),i="https://d1a3-2001-818-da5e-cc00-a3c6-1a77-e9dd-1420.ngrok.io",o={id:null,suspect:null,suspect_url:null,description:null,sketch:null,static_prefix:i,identify:null,guess:null,result:null,init:function(){r.request({method:"GET",url:i+"/api/id/",withCredentials:!0}).then((function(e){o.id=e.id})).catch((function(e){r.route.set("/error")}))},reset:function(){console.log("RESET"),o.suspect=null,o.suspect_url=null,o.description=null,o.sketch=null,o.identify=null,o.guess=null,o.result=null},getMediaUrl:function(e){return o.static_prefix+e},getNextSuspect:function(e){r.request({method:"GET",url:i+"/api/suspect/",withCredentials:!0}).then((function(t){t.suspect?(o.suspect=t.suspect,o.suspect_url=o.static_prefix+t.suspect_url,e()):(alert("You've witnessed all crimes!\n\nNow go play as a detective."),r.route.set("/"))})).catch((function(e){r.route.set("/error")}))},checkLength:function(e,t){r.request({method:"POST",url:i+"/api/length/",withCredentials:!0,body:{description:e}}).then((function(e){t(e.text_length)})).catch((function(e){r.route.set("/error")}))},submitDescription:function(){r.request({method:"POST",url:i+"/api/description/",withCredentials:!0,body:{suspect:o.suspect,description:o.description}}).then((function(e){o.sketch=o.static_prefix+e.sketch,r.route.set("/witness/sketch")})).catch((function(e){r.route.set("/error")}))},getIdenfityLine:function(){r.request({method:"GET",url:i+"/api/line/",withCredentials:!0}).then((function(e){e.sketch?(o.identify={sketch:o.getMediaUrl(e.sketch),criminal_line:e.criminal_line.map((function(e){return{url:o.getMediaUrl(e.url),id:e.id}})),sketch_id:e.sketch_id},o.guess=o.identify.criminal_line[0]):(alert("You've investigated all crimes for now. Try to play as a witness."),r.route.set("/"))})).catch((function(e){r.route.set("/error")}))},submitGuess:function(){o.guess&&r.request({method:"POST",url:i+"/api/identify/",withCredentials:!0,body:{suspect:o.guess.id,sketch_id:o.identify.sketch_id}}).then((function(e){o.result=e,r.route.set("/detective/result")})).catch((function(e){r.route.set("/error")}))}};e.exports=o},836:(e,t,n)=>{var r=n(865),i=n(944);function o(){r.route.set("/")}e.exports=function(e){return{oninit:function(e){console.log(!i.result),i.id&&i.result||o(),document.body.className="h-100",document.getElementsByTagName("footer")[0].className="pt-3 mt-4 text-muted border-top container"},success:function(){return r("[",null,r("header",{class:"px-4 py-5 text-center"},r("h1",{class:"display-4 fw-bold mb-5"},"Great Job!")),r("main",{class:"container"},r("div",{class:"row"},r("div",{class:"col-6"},r("img",{src:i.getMediaUrl(i.result.criminal),class:"align-self-center",style:"width: 600px"})),r("div",{class:"col-6 fs-3"},"You arrested the right person.")),r("div",{class:"row my-4"},r("div",{class:"col-2 mx-auto"},r("button",{onclick:o,class:"btn btn-primary"},"Main Menu")))))},fail:function(){return r("[",null,r("header",{class:"px-4 py-5 text-center"},r("h1",{class:"display-4 fw-bold mb-5"},"Oh No!")),r("main",{class:"container"},r("div",{class:"row"},r("div",{class:"col-6"},r("img",{src:i.guess.url,class:"rounded float-end",style:"height: 400px"})),r("div",{class:"col-6"},r("p",{class:"fs-3"},"You arrested the wrong person."),r("p",null,"The criminal escaped and justice was not made"))),r("div",{class:"row my-4"},r("div",{class:"col-6"},r("div",{class:"card ms-auto",style:"width: 300px"},r("img",{src:i.getMediaUrl(i.result.criminal),class:"card-img-top",style:"height: 300px; width: 300px"}),r("div",{class:"card-body"},r("p",{class:"card-text text-center"},"This was the criminal.")))),r("div",{class:"col-6"},r("div",{class:"card",style:"width: 300px"},r("img",{src:i.identify.sketch,class:"card-img-top",style:"height: 300px; width: 300px"}),r("div",{class:"card-body"},r("p",{class:"card-text text-center"},"This was the sketch."))))),r("div",{class:"row my-4"},r("div",{class:"col-2 mx-auto text-center"},r("button",{onclick:o,class:"btn btn-primary"},"Main Menu")))))},view:function(){return i.result?i.result.success?this.success():this.fail():null}}}},64:(e,t,n)=>{var r=n(865),i=n(944);function o(){r.route.set("/")}e.exports=function(e){return{oninit:function(e){i.id&&i.sketch||o(),document.body.className="h-100"},view:function(){return i.sketch?r("[",null,r("header",{class:"px-4 py-5 text-center"},r("h1",{class:"display-4 fw-bold mb-5"},"Your Sketch is Ready")),r("main",{class:"container"},r("div",{class:"row"},r("div",{class:"col-6"},r("img",{src:i.sketch,class:"align-self-center",style:"width: 600px"})),r("div",{class:"col-6"},r("div",{class:"row h-50"},r("div",{class:"col"},"This artwork was based on your description of the suspect you saw.")),r("div",{class:"row h-50 align-items-top"},r("div",{class:"col-6"},r("img",{src:i.suspect_url,style:"height: 100%; width: 100%"})),r("div",{class:"col-6"},i.description)))),r("div",{class:"row my-4"},r("div",{class:"col-2 mx-auto"},r("button",{onclick:o,class:"btn btn-primary"},"Main Menu"))))):null}}}},764:(e,t,n)=>{var r=n(865);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(944);e.exports=function(e){var t=!1,n=null,s=!1,l=!1,a=!1,c=!1;function u(){t=!0,o.getNextSuspect((function(){var e=100,n=setInterval((function(){(e-=5)>0?$(".progress-bar").css("width",e+"%"):(clearInterval(n),t=!1,document.body.className="d-flex flex-column h-100",document.getElementsByTagName("footer")[0].classList.remove("d-none"),document.getElementById("game").classList.remove("h-100"),r.redraw())}),500)})),document.body.className="h-100 bg-dark",document.getElementsByTagName("footer")[0].classList.add("d-none"),document.getElementById("game").classList.add("h-100")}function d(){o.description||(o.description=document.getElementById("description").value,0!=o.description.length?(a=!1,c=!0,o.submitDescription()):a=!0)}function f(){n&&clearTimeout(n),n=setTimeout((function(){var e;document.getElementById("description").value&&(e=document.getElementById("description").value,a=!1,l=e.replace(/(^\s*)|(\s*$)/gi,"").replace(/[ ]{2,}/gi," ").replace(/\n /,"\n").split(" ").filter((function(e){return""!=e})).length<10,r.redraw(),l||o.checkLength(e,(function(e){s=e>75})))}),1e3)}return{oninit:function(e){o.id||console.log("Unknown player! This should not happen."),document.body.className="d-flex flex-column h-100",document.getElementsByTagName("footer")[0].className="pt-3 text-muted border-top container mt-auto",o.suspect=null},instructions:function(){return r("header",{class:"px-4 py-5 text-center flex-shrink-0"},r("h1",{class:"display-4 fw-bold mb-5"},"You're a Witness"),r("div",{class:"col-lg-6 mx-auto"},r("p",{class:"lead"},"You’re a eye-witness to a crime, and will get a good look of the criminal's face for a few seconds."),r("p",{class:"lead mb-4"},"After that, we'll ask you to write a text description of the person you saw, so that out Artist can draw a sketch of the their face. That sketch will help our detectives identify the correct person and arrest them."),r("p",null,r("button",{class:"btn btn-primary my-2",onclick:u},"Continue"))))},suspect:function(){var e;return r("[",null,r("section",{class:"d-flex h-100 align-items-center"},r("div",{class:"text-center",style:"width: 100%"},r("img",{src:o.suspect_url,class:"align-self-center",style:"width: 512px; height: 512px"}))),r("div",{class:"position-absolute top-0 end-0 pt-5 me-5",style:"width: 256px"},r("div",{class:"progress",style:"height: 20px"},r("div",(i(e={class:"progress-bar bg-success",role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"},"role","progressbar"),i(e,"style","width: 100%"),e)))))},describe:function(){return r("header",{class:"px-4 py-5 text-center flex-shrink-0"},r("h1",{class:"display-4 fw-bold mb-5"},"You're a Witness"),r("div",{class:"col-lg-6 mx-auto"},r("p",{class:"lead"},"Describe the face you saw, and our Artists will draw a sketch based on your description."),s?r("div",{class:"alert alert-warning",role:"alert"},"You description is a bit long. Our AI artist can't handle too much information, and will probably ignore some of what you wrote."):null,l?r("div",{class:"alert alert-warning",role:"alert"},"Really? That's all you can remember? We can try, but it's unlikely our artist can make a good sketch based on so little information."):null,a?r("div",{class:"alert alert-danger",role:"alert"},"Please enter some text."):null,r("div",null,r("textarea",{class:"form-control","aria-label":"Describe the suspect",style:"height: 150px",id:"description",onkeydown:f})),r("p",null,r("button",{type:"submit",class:"btn btn-primary my-2",onclick:d},"Submit"))))},waitingAnimation:function(){return r("section",{class:"d-flex h-100 align-items-center"},r("div",{class:"text-center col-lg-6 mx-auto mt-4"},r("h3",{class:"fw-bold my-5"},"Artist at work!"),r("img",{src:"img/giphy.gif",class:"align-self-center mb-4"}),r("p",{class:"lead mt-3"},"Please wait while our artist finishes the sketch. This can take a minute or two, if it's their first work of the day and they're still waiting for the coffee to kick in. Otherwise, it will be much faster.")))},view:function(){return c?this.waitingAnimation():o.suspect?t?this.suspect():this.describe():this.instructions()}}}},18:(e,t,n)=>{"use strict";var r=n(178);e.exports=function(e,t,n){var i=[],o=!1,s=-1;function l(){for(s=0;s<i.length;s+=2)try{e(i[s],r(i[s+1]),a)}catch(e){n.error(e)}s=-1}function a(){o||(o=!0,t((function(){o=!1,l()})))}return a.sync=l,{mount:function(t,n){if(null!=n&&null==n.view&&"function"!=typeof n)throw new TypeError("m.mount expects a component, not a vnode.");var o=i.indexOf(t);o>=0&&(i.splice(o,2),o<=s&&(s-=2),e(t,[])),null!=n&&(i.push(t,n),e(t,r(n),a))},redraw:a}}},223:(e,t,n)=>{"use strict";var r=n(178),i=n(373),o=n(164),s=n(249),l=n(561),a=n(562),c=n(641),u=n(542),d={};function f(e){try{return decodeURIComponent(e)}catch(t){return e}}e.exports=function(e,t){var n,p,h,m,v,y,g=null==e?null:"function"==typeof e.setImmediate?e.setImmediate:e.setTimeout,w=o.resolve(),b=!1,x=!1,k=0,E=d,S={onbeforeupdate:function(){return!(!(k=k?2:1)||d===E)},onremove:function(){e.removeEventListener("popstate",j,!1),e.removeEventListener("hashchange",N,!1)},view:function(){if(k&&d!==E){var e=[r(h,m.key,m)];return E&&(e=E.render(e[0])),e}}},T=A.SKIP={};function N(){b=!1;var r=e.location.hash;"#"!==A.prefix[0]&&(r=e.location.search+r,"?"!==A.prefix[0]&&"/"!==(r=e.location.pathname+r)[0]&&(r="/"+r));var i=r.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,f).slice(A.prefix.length),o=l(i);function s(e){console.error(e),C(p,null,{replace:!0})}c(o.params,e.history.state),function e(r){for(;r<n.length;r++)if(n[r].check(o)){var l=n[r].component,a=n[r].route,c=l,u=y=function(n){if(u===y){if(n===T)return e(r+1);h=null==n||"function"!=typeof n.view&&"function"!=typeof n?"div":n,m=o.params,v=i,y=null,E=l.render?l:null,2===k?t.redraw():(k=2,t.redraw.sync())}};return void(l.view||"function"==typeof l?(l={},u(c)):l.onmatch?w.then((function(){return l.onmatch(o.params,i,a)})).then(u,i===p?null:s):u("div"))}if(i===p)throw new Error("Could not resolve default route "+p+".");C(p,null,{replace:!0})}(0)}function j(){b||(b=!0,g(N))}function C(t,n,r){if(t=s(t,n),x){j();var i=r?r.state:null,o=r?r.title:null;r&&r.replace?e.history.replaceState(i,o,A.prefix+t):e.history.pushState(i,o,A.prefix+t)}else e.location.href=A.prefix+t}function A(r,i,o){if(!r)throw new TypeError("DOM element being rendered to does not exist.");if(n=Object.keys(o).map((function(e){if("/"!==e[0])throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:e,component:o[e],check:a(e)}})),p=i,null!=i){var s=l(i);if(!n.some((function(e){return e.check(s)})))throw new ReferenceError("Default route doesn't match any known routes.")}"function"==typeof e.history.pushState?e.addEventListener("popstate",j,!1):"#"===A.prefix[0]&&e.addEventListener("hashchange",N,!1),x=!0,t.mount(r,S),N()}return A.set=function(e,t,n){null!=y&&((n=n||{}).replace=!0),y=null,C(e,t,n)},A.get=function(){return v},A.prefix="#!",A.Link={view:function(e){var t,n,r,o=i(e.attrs.selector||"a",u(e.attrs,["options","params","selector","onclick"]),e.children);return(o.attrs.disabled=Boolean(o.attrs.disabled))?(o.attrs.href=null,o.attrs["aria-disabled"]="true"):(t=e.attrs.options,n=e.attrs.onclick,r=s(o.attrs.href,e.attrs.params),o.attrs.href=A.prefix+r,o.attrs.onclick=function(e){var i;"function"==typeof n?i=n.call(e.currentTarget,e):null==n||"object"!=typeof n||"function"==typeof n.handleEvent&&n.handleEvent(e),!1===i||e.defaultPrevented||0!==e.button&&0!==e.which&&1!==e.which||e.currentTarget.target&&"_self"!==e.currentTarget.target||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||(e.preventDefault(),e.redraw=!1,A.set(r,null,t))}),o}},A.param=function(e){return m&&null!=e?m[e]:m},A}},262:(e,t,n)=>{"use strict";var r=n(373);r.trust=n(742),r.fragment=n(621),e.exports=r},865:(e,t,n)=>{"use strict";var r=n(262),i=n(74),o=n(165),s=function(){return r.apply(this,arguments)};s.m=r,s.trust=r.trust,s.fragment=r.fragment,s.Fragment="[",s.mount=o.mount,s.route=n(843),s.render=n(358),s.redraw=o.redraw,s.request=i.request,s.jsonp=i.jsonp,s.parseQueryString=n(874),s.buildQueryString=n(478),s.parsePathname=n(561),s.buildPathname=n(249),s.vnode=n(178),s.PromisePolyfill=n(803),s.censor=n(542),e.exports=s},165:(e,t,n)=>{"use strict";var r=n(358);e.exports=n(18)(r,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:null,"undefined"!=typeof console?console:null)},249:(e,t,n)=>{"use strict";var r=n(478),i=n(641);e.exports=function(e,t){if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(null==t)return e;var n=e.indexOf("?"),o=e.indexOf("#"),s=o<0?e.length:o,l=n<0?s:n,a=e.slice(0,l),c={};i(c,t);var u=a.replace(/:([^\/\.-]+)(\.{3})?/g,(function(e,n,r){return delete c[n],null==t[n]?e:r?t[n]:encodeURIComponent(String(t[n]))})),d=u.indexOf("?"),f=u.indexOf("#"),p=f<0?u.length:f,h=d<0?p:d,m=u.slice(0,h);n>=0&&(m+=e.slice(n,s)),d>=0&&(m+=(n<0?"?":"&")+u.slice(d,p));var v=r(c);return v&&(m+=(n<0&&d<0?"?":"&")+v),o>=0&&(m+=e.slice(o)),f>=0&&(m+=(o<0?"":"&")+u.slice(f)),m}},562:(e,t,n)=>{"use strict";var r=n(561);e.exports=function(e){var t=r(e),n=Object.keys(t.params),i=[],o=new RegExp("^"+t.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,(function(e,t,n){return null==t?"\\"+e:(i.push({k:t,r:"..."===n}),"..."===n?"(.*)":"."===n?"([^/]+)\\.":"([^/]+)"+(n||""))}))+"$");return function(e){for(var r=0;r<n.length;r++)if(t.params[n[r]]!==e.params[n[r]])return!1;if(!i.length)return o.test(e.path);var s=o.exec(e.path);if(null==s)return!1;for(r=0;r<i.length;r++)e.params[i[r].k]=i[r].r?s[r+1]:decodeURIComponent(s[r+1]);return!0}}},561:(e,t,n)=>{"use strict";var r=n(874);e.exports=function(e){var t=e.indexOf("?"),n=e.indexOf("#"),i=n<0?e.length:n,o=t<0?i:t,s=e.slice(0,o).replace(/\/{2,}/g,"/");return s?("/"!==s[0]&&(s="/"+s),s.length>1&&"/"===s[s.length-1]&&(s=s.slice(0,-1))):s="/",{path:s,params:t<0?{}:r(e.slice(t+1,i))}}},803:e=>{"use strict";var t=function(e){if(!(this instanceof t))throw new Error("Promise must be called with 'new'.");if("function"!=typeof e)throw new TypeError("executor must be a function.");var n=this,r=[],i=[],o=c(r,!0),s=c(i,!1),l=n._instance={resolvers:r,rejectors:i},a="function"==typeof setImmediate?setImmediate:setTimeout;function c(e,t){return function o(c){var d;try{if(!t||null==c||"object"!=typeof c&&"function"!=typeof c||"function"!=typeof(d=c.then))a((function(){t||0!==e.length||console.error("Possible unhandled promise rejection:",c);for(var n=0;n<e.length;n++)e[n](c);r.length=0,i.length=0,l.state=t,l.retry=function(){o(c)}}));else{if(c===n)throw new TypeError("Promise can't be resolved with itself.");u(d.bind(c))}}catch(e){s(e)}}}function u(e){var t=0;function n(e){return function(n){t++>0||e(n)}}var r=n(s);try{e(n(o),r)}catch(e){r(e)}}u(e)};t.prototype.then=function(e,n){var r,i,o=this._instance;function s(e,t,n,s){t.push((function(t){if("function"!=typeof e)n(t);else try{r(e(t))}catch(e){i&&i(e)}})),"function"==typeof o.retry&&s===o.state&&o.retry()}var l=new t((function(e,t){r=e,i=t}));return s(e,o.resolvers,r,!0),s(n,o.rejectors,i,!1),l},t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(e){return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},t.resolve=function(e){return e instanceof t?e:new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.all=function(e){return new t((function(t,n){var r=e.length,i=0,o=[];if(0===e.length)t([]);else for(var s=0;s<e.length;s++)!function(s){function l(e){i++,o[s]=e,i===r&&t(o)}null==e[s]||"object"!=typeof e[s]&&"function"!=typeof e[s]||"function"!=typeof e[s].then?l(e[s]):e[s].then(l,n)}(s)}))},t.race=function(e){return new t((function(t,n){for(var r=0;r<e.length;r++)e[r].then(t,n)}))},e.exports=t},164:(e,t,n)=>{"use strict";var r=n(803);"undefined"!=typeof window?(void 0===window.Promise?window.Promise=r:window.Promise.prototype.finally||(window.Promise.prototype.finally=r.prototype.finally),e.exports=window.Promise):void 0!==n.g?(void 0===n.g.Promise?n.g.Promise=r:n.g.Promise.prototype.finally||(n.g.Promise.prototype.finally=r.prototype.finally),e.exports=n.g.Promise):e.exports=r},478:e=>{"use strict";e.exports=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return"";var t=[];for(var n in e)r(n,e[n]);return t.join("&");function r(e,n){if(Array.isArray(n))for(var i=0;i<n.length;i++)r(e+"["+i+"]",n[i]);else if("[object Object]"===Object.prototype.toString.call(n))for(var i in n)r(e+"["+i+"]",n[i]);else t.push(encodeURIComponent(e)+(null!=n&&""!==n?"="+encodeURIComponent(n):""))}}},874:e=>{"use strict";function t(e){try{return decodeURIComponent(e)}catch(t){return e}}e.exports=function(e){if(""===e||null==e)return{};"?"===e.charAt(0)&&(e=e.slice(1));for(var n=e.split("&"),r={},i={},o=0;o<n.length;o++){var s=n[o].split("="),l=t(s[0]),a=2===s.length?t(s[1]):"";"true"===a?a=!0:"false"===a&&(a=!1);var c=l.split(/\]\[?|\[/),u=i;l.indexOf("[")>-1&&c.pop();for(var d=0;d<c.length;d++){var f=c[d],p=c[d+1],h=""==p||!isNaN(parseInt(p,10));if(""===f)null==r[l=c.slice(0,d).join()]&&(r[l]=Array.isArray(u)?u.length:0),f=r[l]++;else if("__proto__"===f)break;if(d===c.length-1)u[f]=a;else{var m=Object.getOwnPropertyDescriptor(u,f);null!=m&&(m=m.value),null==m&&(u[f]=m=h?[]:{}),u=m}}}return i}},358:(e,t,n)=>{"use strict";e.exports=n(452)("undefined"!=typeof window?window:null)},621:(e,t,n)=>{"use strict";var r=n(178),i=n(359);e.exports=function(){var e=i.apply(0,arguments);return e.tag="[",e.children=r.normalizeChildren(e.children),e}},373:(e,t,n)=>{"use strict";var r=n(178),i=n(359),o=n(188),s=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,l={};function a(e){for(var t in e)if(o.call(e,t))return!1;return!0}function c(e){for(var t,n="div",r=[],i={};t=s.exec(e);){var o=t[1],a=t[2];if(""===o&&""!==a)n=a;else if("#"===o)i.id=a;else if("."===o)r.push(a);else if("["===t[3][0]){var c=t[6];c&&(c=c.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===t[4]?r.push(c):i[t[4]]=""===c?c:c||!0}}return r.length>0&&(i.className=r.join(" ")),l[e]={tag:n,attrs:i}}function u(e,t){var n=t.attrs,r=o.call(n,"class"),i=r?n.class:n.className;if(t.tag=e.tag,t.attrs={},!a(e.attrs)&&!a(n)){var s={};for(var l in n)o.call(n,l)&&(s[l]=n[l]);n=s}for(var l in e.attrs)o.call(e.attrs,l)&&"className"!==l&&!o.call(n,l)&&(n[l]=e.attrs[l]);for(var l in null==i&&null==e.attrs.className||(n.className=null!=i?null!=e.attrs.className?String(e.attrs.className)+" "+String(i):i:null!=e.attrs.className?e.attrs.className:null),r&&(n.class=null),n)if(o.call(n,l)&&"key"!==l){t.attrs=n;break}return t}e.exports=function(e){if(null==e||"string"!=typeof e&&"function"!=typeof e&&"function"!=typeof e.view)throw Error("The selector must be either a string or a component.");var t=i.apply(1,arguments);return"string"==typeof e&&(t.children=r.normalizeChildren(t.children),"["!==e)?u(l[e]||c(e),t):(t.tag=e,t)}},359:(e,t,n)=>{"use strict";var r=n(178);e.exports=function(){var e,t=arguments[this],n=this+1;if(null==t?t={}:("object"!=typeof t||null!=t.tag||Array.isArray(t))&&(t={},n=this),arguments.length===n+1)e=arguments[n],Array.isArray(e)||(e=[e]);else for(e=[];n<arguments.length;)e.push(arguments[n++]);return r("",t.key,t,e)}},452:(e,t,n)=>{"use strict";var r=n(178);e.exports=function(e){var t,n=e&&e.document,i={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function o(e){return e.attrs&&e.attrs.xmlns||i[e.tag]}function s(e,t){if(e.state!==t)throw new Error("'vnode.state' must not be modified.")}function l(e){var t=e.state;try{return this.apply(t,arguments)}finally{s(e,t)}}function a(){try{return n.activeElement}catch(e){return null}}function c(e,t,n,r,i,o,s){for(var l=n;l<r;l++){var a=t[l];null!=a&&u(e,a,i,s,o)}}function u(e,t,i,s,a){var d=t.tag;if("string"==typeof d)switch(t.state={},null!=t.attrs&&M(t.attrs,t,i),d){case"#":!function(e,t,r){t.dom=n.createTextNode(t.children),b(e,t.dom,r)}(e,t,a);break;case"<":f(e,t,s,a);break;case"[":!function(e,t,r,i,o){var s=n.createDocumentFragment();if(null!=t.children){var l=t.children;c(s,l,0,l.length,r,null,i)}t.dom=s.firstChild,t.domSize=s.childNodes.length,b(e,s,o)}(e,t,i,s,a);break;default:!function(e,t,r,i,s){var l=t.tag,a=t.attrs,u=a&&a.is,d=(i=o(t)||i)?u?n.createElementNS(i,l,{is:u}):n.createElementNS(i,l):u?n.createElement(l,{is:u}):n.createElement(l);if(t.dom=d,null!=a&&function(e,t,n){"input"===e.tag&&null!=t.type&&e.dom.setAttribute("type",t.type);var r=null!=t&&"input"===e.tag&&"file"===t.type;for(var i in t)j(e,i,null,t[i],n,r)}(t,a,i),b(e,d,s),!x(t)&&null!=t.children){var f=t.children;c(d,f,0,f.length,r,null,i),"select"===t.tag&&null!=a&&function(e,t){if("value"in t)if(null===t.value)-1!==e.dom.selectedIndex&&(e.dom.value=null);else{var n=""+t.value;e.dom.value===n&&-1!==e.dom.selectedIndex||(e.dom.value=n)}"selectedIndex"in t&&j(e,"selectedIndex",null,t.selectedIndex,void 0)}(t,a)}}(e,t,i,s,a)}else!function(e,t,n,i,o){(function(e,t){var n;if("function"==typeof e.tag.view){if(e.state=Object.create(e.tag),null!=(n=e.state.view).$$reentrantLock$$)return;n.$$reentrantLock$$=!0}else{if(e.state=void 0,null!=(n=e.tag).$$reentrantLock$$)return;n.$$reentrantLock$$=!0,e.state=null!=e.tag.prototype&&"function"==typeof e.tag.prototype.view?new e.tag(e):e.tag(e)}if(M(e.state,e,t),null!=e.attrs&&M(e.attrs,e,t),e.instance=r.normalize(l.call(e.state.view,e)),e.instance===e)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null})(t,n),null!=t.instance?(u(e,t.instance,n,i,o),t.dom=t.instance.dom,t.domSize=null!=t.dom?t.instance.domSize:0):t.domSize=0}(e,t,i,s,a)}var d={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function f(e,t,r,i){var o=t.children.match(/^\s*?<(\w+)/im)||[],s=n.createElement(d[o[1]]||"div");"http://www.w3.org/2000/svg"===r?(s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t.children+"</svg>",s=s.firstChild):s.innerHTML=t.children,t.dom=s.firstChild,t.domSize=s.childNodes.length,t.instance=[];for(var l,a=n.createDocumentFragment();l=s.firstChild;)t.instance.push(l),a.appendChild(l);b(e,a,i)}function p(e,t,n,r,i,o){if(t!==n&&(null!=t||null!=n))if(null==t||0===t.length)c(e,n,0,n.length,r,i,o);else if(null==n||0===n.length)k(e,t,0,t.length);else{var s=null!=t[0]&&null!=t[0].key,l=null!=n[0]&&null!=n[0].key,a=0,d=0;if(!s)for(;d<t.length&&null==t[d];)d++;if(!l)for(;a<n.length&&null==n[a];)a++;if(s!==l)k(e,t,d,t.length),c(e,n,a,n.length,r,i,o);else if(l){for(var f,p,w,b,x,S=t.length-1,T=n.length-1;S>=d&&T>=a&&(w=t[S],b=n[T],w.key===b.key);)w!==b&&h(e,w,b,r,i,o),null!=b.dom&&(i=b.dom),S--,T--;for(;S>=d&&T>=a&&(f=t[d],p=n[a],f.key===p.key);)d++,a++,f!==p&&h(e,f,p,r,y(t,d,i),o);for(;S>=d&&T>=a&&a!==T&&f.key===b.key&&w.key===p.key;)g(e,w,x=y(t,d,i)),w!==p&&h(e,w,p,r,x,o),++a<=--T&&g(e,f,i),f!==b&&h(e,f,b,r,i,o),null!=b.dom&&(i=b.dom),d++,w=t[--S],b=n[T],f=t[d],p=n[a];for(;S>=d&&T>=a&&w.key===b.key;)w!==b&&h(e,w,b,r,i,o),null!=b.dom&&(i=b.dom),T--,w=t[--S],b=n[T];if(a>T)k(e,t,d,S+1);else if(d>S)c(e,n,a,T+1,r,i,o);else{var N,j,C=i,A=T-a+1,O=new Array(A),P=0,I=0,_=2147483647,z=0;for(I=0;I<A;I++)O[I]=-1;for(I=T;I>=a;I--){null==N&&(N=m(t,d,S+1));var L=N[(b=n[I]).key];null!=L&&(_=L<_?L:-1,O[I-a]=L,w=t[L],t[L]=null,w!==b&&h(e,w,b,r,i,o),null!=b.dom&&(i=b.dom),z++)}if(i=C,z!==S-d+1&&k(e,t,d,S+1),0===z)c(e,n,a,T+1,r,i,o);else if(-1===_)for(j=function(e){var t=[0],n=0,r=0,i=0,o=v.length=e.length;for(i=0;i<o;i++)v[i]=e[i];for(i=0;i<o;++i)if(-1!==e[i]){var s=t[t.length-1];if(e[s]<e[i])v[i]=s,t.push(i);else{for(n=0,r=t.length-1;n<r;){var l=(n>>>1)+(r>>>1)+(n&r&1);e[t[l]]<e[i]?n=l+1:r=l}e[i]<e[t[n]]&&(n>0&&(v[i]=t[n-1]),t[n]=i)}}for(r=t[(n=t.length)-1];n-- >0;)t[n]=r,r=v[r];return v.length=0,t}(O),P=j.length-1,I=T;I>=a;I--)p=n[I],-1===O[I-a]?u(e,p,r,o,i):j[P]===I-a?P--:g(e,p,i),null!=p.dom&&(i=n[I].dom);else for(I=T;I>=a;I--)p=n[I],-1===O[I-a]&&u(e,p,r,o,i),null!=p.dom&&(i=n[I].dom)}}else{var R=t.length<n.length?t.length:n.length;for(a=a<d?a:d;a<R;a++)(f=t[a])===(p=n[a])||null==f&&null==p||(null==f?u(e,p,r,o,y(t,a+1,i)):null==p?E(e,f):h(e,f,p,r,y(t,a+1,i),o));t.length>R&&k(e,t,a,t.length),n.length>R&&c(e,n,a,n.length,r,i,o)}}}function h(e,t,n,i,s,a){var c=t.tag;if(c===n.tag){if(n.state=t.state,n.events=t.events,function(e,t){do{var n;if(null!=e.attrs&&"function"==typeof e.attrs.onbeforeupdate&&void 0!==(n=l.call(e.attrs.onbeforeupdate,e,t))&&!n)break;if("string"!=typeof e.tag&&"function"==typeof e.state.onbeforeupdate&&void 0!==(n=l.call(e.state.onbeforeupdate,e,t))&&!n)break;return!1}while(0);return e.dom=t.dom,e.domSize=t.domSize,e.instance=t.instance,e.attrs=t.attrs,e.children=t.children,e.text=t.text,!0}(n,t))return;if("string"==typeof c)switch(null!=n.attrs&&D(n.attrs,n,i),c){case"#":!function(e,t){e.children.toString()!==t.children.toString()&&(e.dom.nodeValue=t.children),t.dom=e.dom}(t,n);break;case"<":!function(e,t,n,r,i){t.children!==n.children?(S(e,t),f(e,n,r,i)):(n.dom=t.dom,n.domSize=t.domSize,n.instance=t.instance)}(e,t,n,a,s);break;case"[":!function(e,t,n,r,i,o){p(e,t.children,n.children,r,i,o);var s=0,l=n.children;if(n.dom=null,null!=l){for(var a=0;a<l.length;a++){var c=l[a];null!=c&&null!=c.dom&&(null==n.dom&&(n.dom=c.dom),s+=c.domSize||1)}1!==s&&(n.domSize=s)}}(e,t,n,i,s,a);break;default:!function(e,t,n,r){var i=t.dom=e.dom;r=o(t)||r,"textarea"===t.tag&&null==t.attrs&&(t.attrs={}),function(e,t,n,r){if(t&&t===n&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),null!=n){"input"===e.tag&&null!=n.type&&e.dom.setAttribute("type",n.type);var i="input"===e.tag&&"file"===n.type;for(var o in n)j(e,o,t&&t[o],n[o],r,i)}var s;if(null!=t)for(var o in t)null==(s=t[o])||null!=n&&null!=n[o]||C(e,o,s,r)}(t,e.attrs,t.attrs,r),x(t)||p(i,e.children,t.children,n,null,r)}(t,n,i,a)}else!function(e,t,n,i,o,s){if(n.instance=r.normalize(l.call(n.state.view,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");D(n.state,n,i),null!=n.attrs&&D(n.attrs,n,i),null!=n.instance?(null==t.instance?u(e,n.instance,i,s,o):h(e,t.instance,n.instance,i,o,s),n.dom=n.instance.dom,n.domSize=n.instance.domSize):null!=t.instance?(E(e,t.instance),n.dom=void 0,n.domSize=0):(n.dom=t.dom,n.domSize=t.domSize)}(e,t,n,i,s,a)}else E(e,t),u(e,n,i,a,s)}function m(e,t,n){for(var r=Object.create(null);t<n;t++){var i=e[t];if(null!=i){var o=i.key;null!=o&&(r[o]=t)}}return r}var v=[];function y(e,t,n){for(;t<e.length;t++)if(null!=e[t]&&null!=e[t].dom)return e[t].dom;return n}function g(e,t,r){var i=n.createDocumentFragment();w(e,i,t),b(e,i,r)}function w(e,t,n){for(;null!=n.dom&&n.dom.parentNode===e;){if("string"!=typeof n.tag){if(null!=(n=n.instance))continue}else if("<"===n.tag)for(var r=0;r<n.instance.length;r++)t.appendChild(n.instance[r]);else if("["!==n.tag)t.appendChild(n.dom);else if(1===n.children.length){if(null!=(n=n.children[0]))continue}else for(r=0;r<n.children.length;r++){var i=n.children[r];null!=i&&w(e,t,i)}break}}function b(e,t,n){null!=n?e.insertBefore(t,n):e.appendChild(t)}function x(e){if(null==e.attrs||null==e.attrs.contenteditable&&null==e.attrs.contentEditable)return!1;var t=e.children;if(null!=t&&1===t.length&&"<"===t[0].tag){var n=t[0].children;e.dom.innerHTML!==n&&(e.dom.innerHTML=n)}else if(null!=t&&0!==t.length)throw new Error("Child node of a contenteditable must be trusted.");return!0}function k(e,t,n,r){for(var i=n;i<r;i++){var o=t[i];null!=o&&E(e,o)}}function E(e,t){var n,r,i,o=0,a=t.state;if("string"!=typeof t.tag&&"function"==typeof t.state.onbeforeremove&&null!=(i=l.call(t.state.onbeforeremove,t))&&"function"==typeof i.then&&(o=1,n=i),t.attrs&&"function"==typeof t.attrs.onbeforeremove&&null!=(i=l.call(t.attrs.onbeforeremove,t))&&"function"==typeof i.then&&(o|=2,r=i),s(t,a),o){if(null!=n){var c=function(){1&o&&((o&=2)||u())};n.then(c,c)}null!=r&&(c=function(){2&o&&((o&=1)||u())},r.then(c,c))}else N(t),T(e,t);function u(){s(t,a),N(t),T(e,t)}}function S(e,t){for(var n=0;n<t.instance.length;n++)e.removeChild(t.instance[n])}function T(e,t){for(;null!=t.dom&&t.dom.parentNode===e;){if("string"!=typeof t.tag){if(null!=(t=t.instance))continue}else if("<"===t.tag)S(e,t);else{if("["!==t.tag&&(e.removeChild(t.dom),!Array.isArray(t.children)))break;if(1===t.children.length){if(null!=(t=t.children[0]))continue}else for(var n=0;n<t.children.length;n++){var r=t.children[n];null!=r&&T(e,r)}}break}}function N(e){if("string"!=typeof e.tag&&"function"==typeof e.state.onremove&&l.call(e.state.onremove,e),e.attrs&&"function"==typeof e.attrs.onremove&&l.call(e.attrs.onremove,e),"string"!=typeof e.tag)null!=e.instance&&N(e.instance);else{var t=e.children;if(Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];null!=r&&N(r)}}}function j(e,t,r,i,o,s){if(!("key"===t||"is"===t||null==i||A(t)||r===i&&!function(e,t){return"value"===t||"checked"===t||"selectedIndex"===t||"selected"===t&&e.dom===a()||"option"===e.tag&&e.dom.parentNode===n.activeElement}(e,t)&&"object"!=typeof i||"type"===t&&"input"===e.tag)){if("o"===t[0]&&"n"===t[1])return $(e,t,i);if("xlink:"===t.slice(0,6))e.dom.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(6),i);else if("style"===t)L(e.dom,r,i);else if(O(e,t,o)){if("value"===t){if(("input"===e.tag||"textarea"===e.tag)&&e.dom.value===""+i&&(s||e.dom===a()))return;if("select"===e.tag&&null!==r&&e.dom.value===""+i)return;if("option"===e.tag&&null!==r&&e.dom.value===""+i)return;if(s&&""+i!="")return void console.error("`value` is read-only on file inputs!")}e.dom[t]=i}else"boolean"==typeof i?i?e.dom.setAttribute(t,""):e.dom.removeAttribute(t):e.dom.setAttribute("className"===t?"class":t,i)}}function C(e,t,n,r){if("key"!==t&&"is"!==t&&null!=n&&!A(t))if("o"===t[0]&&"n"===t[1])$(e,t,void 0);else if("style"===t)L(e.dom,n,null);else if(!O(e,t,r)||"className"===t||"title"===t||"value"===t&&("option"===e.tag||"select"===e.tag&&-1===e.dom.selectedIndex&&e.dom===a())||"input"===e.tag&&"type"===t){var i=t.indexOf(":");-1!==i&&(t=t.slice(i+1)),!1!==n&&e.dom.removeAttribute("className"===t?"class":t)}else e.dom[t]=null}function A(e){return"oninit"===e||"oncreate"===e||"onupdate"===e||"onremove"===e||"onbeforeremove"===e||"onbeforeupdate"===e}function O(e,t,n){return void 0===n&&(e.tag.indexOf("-")>-1||null!=e.attrs&&e.attrs.is||"href"!==t&&"list"!==t&&"form"!==t&&"width"!==t&&"height"!==t)&&t in e.dom}var P,I=/[A-Z]/g;function _(e){return"-"+e.toLowerCase()}function z(e){return"-"===e[0]&&"-"===e[1]?e:"cssFloat"===e?"float":e.replace(I,_)}function L(e,t,n){if(t===n);else if(null==n)e.style.cssText="";else if("object"!=typeof n)e.style.cssText=n;else if(null==t||"object"!=typeof t)for(var r in e.style.cssText="",n)null!=(i=n[r])&&e.style.setProperty(z(r),String(i));else{for(var r in n){var i;null!=(i=n[r])&&(i=String(i))!==String(t[r])&&e.style.setProperty(z(r),i)}for(var r in t)null!=t[r]&&null==n[r]&&e.style.removeProperty(z(r))}}function R(){this._=t}function $(e,n,r){if(null!=e.events){if(e.events._=t,e.events[n]===r)return;null==r||"function"!=typeof r&&"object"!=typeof r?(null!=e.events[n]&&e.dom.removeEventListener(n.slice(2),e.events,!1),e.events[n]=void 0):(null==e.events[n]&&e.dom.addEventListener(n.slice(2),e.events,!1),e.events[n]=r)}else null==r||"function"!=typeof r&&"object"!=typeof r||(e.events=new R,e.dom.addEventListener(n.slice(2),e.events,!1),e.events[n]=r)}function M(e,t,n){"function"==typeof e.oninit&&l.call(e.oninit,t),"function"==typeof e.oncreate&&n.push(l.bind(e.oncreate,t))}function D(e,t,n){"function"==typeof e.onupdate&&n.push(l.bind(e.onupdate,t))}return R.prototype=Object.create(null),R.prototype.handleEvent=function(e){var t,n=this["on"+e.type];"function"==typeof n?t=n.call(e.currentTarget,e):"function"==typeof n.handleEvent&&n.handleEvent(e),this._&&!1!==e.redraw&&(0,this._)(),!1===t&&(e.preventDefault(),e.stopPropagation())},function(e,n,i){if(!e)throw new TypeError("DOM element being rendered to does not exist.");if(null!=P&&e.contains(P))throw new TypeError("Node is currently being rendered to and thus is locked.");var o=t,s=P,l=[],c=a(),u=e.namespaceURI;P=e,t="function"==typeof i?i:void 0;try{null==e.vnodes&&(e.textContent=""),n=r.normalizeChildren(Array.isArray(n)?n:[n]),p(e,e.vnodes,n,l,null,"http://www.w3.org/1999/xhtml"===u?void 0:u),e.vnodes=n,null!=c&&a()!==c&&"function"==typeof c.focus&&c.focus();for(var d=0;d<l.length;d++)l[d]()}finally{t=o,P=s}}}},742:(e,t,n)=>{"use strict";var r=n(178);e.exports=function(e){return null==e&&(e=""),r("<",void 0,void 0,e,void 0,void 0)}},178:e=>{"use strict";function t(e,t,n,r,i,o){return{tag:e,key:t,attrs:n,children:r,text:i,dom:o,domSize:void 0,state:void 0,events:void 0,instance:void 0}}t.normalize=function(e){return Array.isArray(e)?t("[",void 0,void 0,t.normalizeChildren(e),void 0,void 0):null==e||"boolean"==typeof e?null:"object"==typeof e?e:t("#",void 0,void 0,String(e),void 0,void 0)},t.normalizeChildren=function(e){var n=[];if(e.length){for(var r=null!=e[0]&&null!=e[0].key,i=1;i<e.length;i++)if((null!=e[i]&&null!=e[i].key)!==r)throw new TypeError(!r||null==e[i]&&"boolean"!=typeof e[i]?"In fragments, vnodes must either all have keys or none have keys.":"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.");for(i=0;i<e.length;i++)n[i]=t.normalize(e[i])}return n},e.exports=t},74:(e,t,n)=>{"use strict";var r=n(164),i=n(165);e.exports=n(775)("undefined"!=typeof window?window:null,r,i.redraw)},775:(e,t,n)=>{"use strict";var r=n(249),i=n(188);e.exports=function(e,t,n){var o=0;function s(e){return new t(e)}function l(e){return function(i,o){"string"!=typeof i?(o=i,i=i.url):null==o&&(o={});var l=new t((function(t,n){e(r(i,o.params),o,(function(e){if("function"==typeof o.type)if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=new o.type(e[n]);else e=new o.type(e);t(e)}),n)}));if(!0===o.background)return l;var a=0;function c(){0==--a&&"function"==typeof n&&n()}return function e(t){var n=t.then;return t.constructor=s,t.then=function(){a++;var r=n.apply(t,arguments);return r.then(c,(function(e){if(c(),0===a)throw e})),e(r)},t}(l)}}function a(e,t){for(var n in e.headers)if(i.call(e.headers,n)&&n.toLowerCase()===t)return!0;return!1}return s.prototype=t.prototype,s.__proto__=t,{request:l((function(t,n,r,o){var s,l=null!=n.method?n.method.toUpperCase():"GET",c=n.body,u=(null==n.serialize||n.serialize===JSON.serialize)&&!(c instanceof e.FormData||c instanceof e.URLSearchParams),d=n.responseType||("function"==typeof n.extract?"":"json"),f=new e.XMLHttpRequest,p=!1,h=!1,m=f,v=f.abort;for(var y in f.abort=function(){p=!0,v.call(this)},f.open(l,t,!1!==n.async,"string"==typeof n.user?n.user:void 0,"string"==typeof n.password?n.password:void 0),u&&null!=c&&!a(n,"content-type")&&f.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof n.deserialize||a(n,"accept")||f.setRequestHeader("Accept","application/json, text/*"),n.withCredentials&&(f.withCredentials=n.withCredentials),n.timeout&&(f.timeout=n.timeout),f.responseType=d,n.headers)i.call(n.headers,y)&&f.setRequestHeader(y,n.headers[y]);f.onreadystatechange=function(e){if(!p&&4===e.target.readyState)try{var i,s=e.target.status>=200&&e.target.status<300||304===e.target.status||/^file:\/\//i.test(t),l=e.target.response;if("json"===d){if(!e.target.responseType&&"function"!=typeof n.extract)try{l=JSON.parse(e.target.responseText)}catch(e){l=null}}else d&&"text"!==d||null==l&&(l=e.target.responseText);if("function"==typeof n.extract?(l=n.extract(e.target,n),s=!0):"function"==typeof n.deserialize&&(l=n.deserialize(l)),s)r(l);else{var a=function(){try{i=e.target.responseText}catch(e){i=l}var t=new Error(i);t.code=e.target.status,t.response=l,o(t)};0===f.status?setTimeout((function(){h||a()})):a()}}catch(e){o(e)}},f.ontimeout=function(e){h=!0;var t=new Error("Request timed out");t.code=e.target.status,o(t)},"function"==typeof n.config&&(f=n.config(f,n,t)||f)!==m&&(s=f.abort,f.abort=function(){p=!0,s.call(this)}),null==c?f.send():"function"==typeof n.serialize?f.send(n.serialize(c)):c instanceof e.FormData||c instanceof e.URLSearchParams?f.send(c):f.send(JSON.stringify(c))})),jsonp:l((function(t,n,r,i){var s=n.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+o++,l=e.document.createElement("script");e[s]=function(t){delete e[s],l.parentNode.removeChild(l),r(t)},l.onerror=function(){delete e[s],l.parentNode.removeChild(l),i(new Error("JSONP request failed"))},l.src=t+(t.indexOf("?")<0?"?":"&")+encodeURIComponent(n.callbackKey||"callback")+"="+encodeURIComponent(s),e.document.documentElement.appendChild(l)}))}}},843:(e,t,n)=>{"use strict";var r=n(165);e.exports=n(223)("undefined"!=typeof window?window:null,r)},641:(e,t,n)=>{"use strict";var r=n(188);e.exports=Object.assign||function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n])}},542:(e,t,n)=>{"use strict";var r=n(188),i=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");e.exports=function(e,t){var n={};if(null!=t)for(var o in e)r.call(e,o)&&!i.test(o)&&t.indexOf(o)<0&&(n[o]=e[o]);else for(var o in e)r.call(e,o)&&!i.test(o)&&(n[o]=e[o]);return n}},188:e=>{"use strict";e.exports={}.hasOwnProperty}},u={};function d(e){var t=u[e];if(void 0!==t)return t.exports;var n=u[e]={exports:{}};return c[e](n,n.exports,d),n.exports}d.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e=d(865),t=document.getElementById("game"),n=d(749),r=d(764),i=d(944),o=d(64),s=d(486),l=d(836),a=d(494),i.init(),e.route(t,"/",{"/":n,"/witness/sketch":o,"/witness":r,"/detective/result":l,"/detective":s,"/error":a})})();